@model IEnumerable<E4S.ViewModel.AccountVM.InvoiceListViewModel>

@{
    ViewData["Title"] = "Invoices";
    Layout = "~/Views/Shared/_LayoutAccountInventory.cshtml";
}

<style>
    .body-card {
        margin-left: 2%;
        margin-right: 2%;
        margin-top: 1%;
        margin-bottom: 2%;
    }

    .table-font {
        font-weight: 500;
    }
</style>

<div class="content">
  @Html.Partial("~/Views/Manage/_StatusMessage.cshtml", ViewData["StatusMessage"])


  <div class="col-md-12">
    <div class="card">
      <div class="card-header body-card">
        <div class="row">
          <div class="col-md-12">
            <div class="col-md-3 pull-left">
              <h4 class="card-title">Invoice</h4>
            </div>

            <div class="btn-group col-md-5 pull-right">
              <a class="btn btn-success dropdown-toggle button-padding" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="color: #fff;">
                Export Data
              </a>
              <div class="dropdown-menu">
                <a class="dropdown-item" href="#">Copy</a>
                <a class="dropdown-item" href="#">CSV</a>
                <a class="dropdown-item" href="#">Excel</a>
                <a class="dropdown-item" href="#">PDF</a>
                <a class="dropdown-item" href="#">Print</a>

              </div>

              <a asp-action="AddInvoice" asp-controller="Invoice" class="btn btn-info btn-md  btn-responsive" style="color: #fff;">
                <span class="btn-label">
                  <i class="now-ui-icons travel_info"></i>
                </span>

                Create New

              </a>
            </div>

          </div>
        </div>



      </div>
      <div class="card-body body-card">

        <div class="table-responsive" style="overflow: auto;">
          <table id="datatable" class="table table-hover">
            <thead>
              <tr>
                <th scope="col"><strong>Date</strong></th>
                <th><strong>InvoiceNo</strong></th>
                <th scope="col"><strong>Customer Name</strong></th>
                @*<th scope="col"><strong>Title</strong></th>*@

                <th class="text-right" scope="col"><strong>Amount</strong></th>
                <th class="text-center" scope="col"><strong>Status</strong></th>
                <th scope="col" class="disabled-sorting"><strong>Actions</strong></th>
              </tr>
            </thead>
            <tbody class="fontweight">
              @foreach (var item in Model)
              {
                <tr>
                  <td>@item.InvoiceRecord.DateCreated.ToString("dd MMM, yy")</td>
                  <td>@item.InvoiceRecord.InvoiceNo</td>
                  <td>
                    @try
                    {
                      @item.Customer.CustomerName
                    }
                    catch
                    {
                      <p>---</p>
                    }
                  </td>
                  @*<td>@item.InvoiceRecord.InvoiceTitle</td>*@
                  <td class="text-right"> @item.InvoiceRecord.Total.ToString("N2")</td>
                  <td class="text-center" scope="row"><button class="btn btn-danger">Not paid</button></td>

                  <td class="">
                    <a asp-action="AddInvoice" asp-route-id="@item.InvoiceRecord.Id" class="btn btn-icon btn-info btn-sm" data-placement="top" title="Edit"><i class="fas fa-edit"></i></a>
                    <a href="#" class="btn btn-success btn-icon btn-sm edit" data-toggle="tooltip" data-placement="top" title="paid"><i class="fa fa-credit-card"></i></a>
                    <a href="#" class="btn btn-warning btn-icon btn-sm edit" data-toggle="tooltip" data-placement="top" title="Send as Mail"><i class="fas fa-paper-plane"></i></a>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>


      </div>
    </div>

  </div>

</div>

